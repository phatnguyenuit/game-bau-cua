(this["webpackJsonpgame-bau-cua"]=this["webpackJsonpgame-bau-cua"]||[]).push([[0],[,,,,,function(e,t,n){e.exports={root:"styles_root__Bag0b",item:"styles_item__29bPs",content:"styles_content__1qV1g","play-button":"styles_play-button__2w0PU"}},,,function(e,t,n){e.exports={root:"styles_root__2RVCt"}},,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),i=n(7),s=n.n(i),r=(n(13),n(3)),o=n(8),u=n.n(o),l=n(0),b=function(e){var t=e.onClick;return Object(l.jsx)("button",{title:"New game",className:u.a.root,onClick:t,children:Object(l.jsx)("img",{width:24,height:"auto",src:"/images/sync.svg",alt:"new-game-icon"})})},d=Object(c.memo)(b);d.displayName="NewGameButton";var j=d,O=n(4),m=n(2),f=(Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_CRYPTO_KEY,Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_CRYPTO_SECRET,["deer","calabash","rooster","fish","crab","shrimp"]),h=f.reduce((function(e,t){return Object(m.a)(Object(m.a)({},e),{},Object(O.a)({},t,"/images/".concat(t,".svg")))}),{}),g=n(5),v=n.n(g),_=function(e){var t=e.items,n=e.disabled,c=e.onStart;return Object(l.jsxs)("div",{className:v.a.root,children:[t.map((function(e,t){return Object(l.jsx)("div",{className:v.a.item,children:Object(l.jsx)("div",{className:v.a.content,children:Object(l.jsx)("img",{width:64,height:"auto",src:h[e],alt:"rolled-".concat(e)})})},"".concat(e,"-").concat(t))})),Object(l.jsx)("button",{type:"button",className:v.a["play-button"],disabled:n,onClick:c,children:Object(l.jsx)("img",{width:64,height:"auto",src:"/images/dice.svg",alt:"play-icon"})})]})},p=Object(c.memo)(_);p.displayName="DicePlate";var S=p,x=function(e,t){return Math.floor(function(e,t){return Math.random()*(t-e)+e}(e,t))},C=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},N=function(){return new Array(3).fill(void 0).map((function(){return x(0,f.length)})).map((function(e){return f[e]}))},w=function(){return f.reduce((function(e,t){return Object(m.a)(Object(m.a)({},e),{},Object(O.a)({},t,0))}),{})},T=function(){return x(20,100)},E=function(){var e=Object(c.useState)(N),t=Object(r.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(w),s=Object(r.a)(i,2),o=s[0],u=s[1],l=Object(c.useState)(!1),b=Object(r.a)(l,2),d=b[0],j=b[1],h=Object(c.useState)(!1),g=Object(r.a)(h,2),v=g[0],_=g[1],p=Object(c.useState)(),S=Object(r.a)(p,2),x=S[0],C=S[1],E=Object(c.useState)(),P=Object(r.a)(E,2),y=P[0],R=P[1],k=Object(c.useState)(T),A=Object(r.a)(k,2),B=A[0],D=A[1],F=Object(c.useCallback)((function(e){return function(){if(!d){var t=f.filter((function(e){return o[e]>0})),n=t.reduce((function(e,t){return e+o[t]}),0);v&&u(w),n<B?t.length<3||t.includes(e)?(_(!1),u((function(t){return Object(m.a)(Object(m.a)({},t),{},Object(O.a)({},e,t[e]+1))}))):alert("You can bet up to 3 items!"):alert("Please adjust your betted amount!")}}}),[B,o,v,d]),H=Object(c.useCallback)((function(e){return function(t){t.stopPropagation(),d||u((function(t){return Object(m.a)(Object(m.a)({},t),{},Object(O.a)({},e,0))}))}}),[d]),K=Object(c.useCallback)((function(e){return function(){window.clearInterval(e),j(!1),_(!0)}}),[]),I=Object(c.useCallback)((function(e){e.stopPropagation();var t=f.filter((function(e){return o[e]>0})),n=t.reduce((function(e,t){return e+o[t]}),0);if(t.length)if(n<=B){var c=window.setInterval((function(){a(N)}),100);_(!1),j(!0),C(c),R(window.setTimeout(K(c),3e3))}else alert("Please adjust your betted amount!");else alert("Please bet at least one item!")}),[B,o,K]),L=Object(c.useCallback)((function(){D(T),_(!1),u(w)}),[]);return Object(c.useEffect)((function(){return function(){x&&y&&d&&(K(x)(),window.clearTimeout(y))}}),[K,x,y,d]),Object(c.useEffect)((function(){if(!d&&v){var e=f.filter((function(e){return o[e]>0})).reduce((function(e,t){return n.includes(t)?e+n.filter((function(e){return e===t})).length*o[t]:e-o[t]}),0);D((function(t){return t+e}))}}),[d,o,n,v]),{names:n,rolling:d,needToShowResult:v,betState:o,amount:B,handleRoll:I,handleBet:F,handleResetBet:H,startNewSession:L}};n(15);var P=function(){var e=E(),t=e.amount,n=e.betState,c=e.names,a=e.needToShowResult,i=e.rolling,s=e.handleBet,o=e.handleResetBet,u=e.handleRoll,b=e.startNewSession;return Object(l.jsxs)("div",{"data-testid":"App",className:"App",children:[Object(l.jsx)("div",{className:"side-section left-side",children:"Happy new year 2021"}),Object(l.jsx)("div",{className:"side-section right-side",children:"Happy new year 2021"}),Object(l.jsxs)("div",{className:"amount-section",children:[Object(l.jsxs)("span",{children:["$",C(t)]}),Object(l.jsx)(j,{onClick:b})]}),Object(l.jsx)(S,{disabled:i,items:c,onStart:u}),Object(l.jsx)("div",{className:"game-grid",children:Object.entries(h).map((function(e){var t=Object(r.a)(e,2),i=t[0],u=t[1],b=n[i]>0;return Object(l.jsx)("div",{className:"game-item",onClick:s(i),children:Object(l.jsxs)("div",{className:"content ".concat(a&&c.includes(i)?"matched":""," ").concat(n[i]>0?"betted":""),children:[b&&Object(l.jsxs)(l.Fragment,{children:[!a&&Object(l.jsx)("div",{className:"corner-section",children:Object(l.jsx)("span",{className:"reset",onClick:o(i),children:"\u2715"})}),Object(l.jsx)("div",{className:"bet-value",children:Object(l.jsx)("span",{className:"bet-value",children:n[i]})})]}),Object(l.jsx)("img",{width:108,height:"auto",src:u,alt:i})]})},i)}))})]})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,17)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),i(e),s(e)}))};s.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(P,{})}),document.getElementById("root")),y()}],[[16,1,2]]]);
//# sourceMappingURL=main.a4fc8013.chunk.js.map