(this["webpackJsonpgame-bau-cua"]=this["webpackJsonpgame-bau-cua"]||[]).push([[0],[,,,,,function(e,t,n){e.exports={root:"styles_root__kr_2d",item:"styles_item__1j-O8",content:"styles_content__3Lgnn",matched:"styles_matched__1ICbi",pulse:"styles_pulse__Hi-_I","corner-section":"styles_corner-section__orbAR",reset:"styles_reset__A3Ld4","bet-value":"styles_bet-value__2pSyQ",betted:"styles_betted__3Bm6Q"}},function(e,t,n){e.exports={root:"styles_root__Bag0b",item:"styles_item__29bPs",content:"styles_content__1qV1g","play-button":"styles_play-button__2w0PU"}},,,function(e,t,n){e.exports={root:"styles_root__2RVCt"}},,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(8),r=n.n(s),i=(n(14),n(9)),o=n.n(i),l=n(0),u=function(e){var t=e.onClick;return Object(l.jsx)("button",{title:"New game",className:o.a.root,onClick:t,children:Object(l.jsx)("img",{width:24,height:"auto",src:"/images/sync.svg",alt:"new-game-icon"})})},b=Object(c.memo)(u);b.displayName="NewGameButton";var d=b,j=n(3),f=n(4),O=["deer","calabash","rooster","fish","crab","shrimp"],m=O.reduce((function(e,t){return Object(f.a)(Object(f.a)({},e),{},Object(j.a)({},t,"/images/".concat(t,".svg")))}),{}),h=n(6),p=n.n(h),_=function(e){var t=e.items,n=e.disabled,c=e.onStart;return Object(l.jsxs)("div",{className:p.a.root,children:[t.map((function(e,t){return Object(l.jsx)("div",{className:p.a.item,children:Object(l.jsx)("div",{className:p.a.content,children:Object(l.jsx)("img",{width:64,height:"auto",src:m[e],alt:"rolled-".concat(e)})})},"".concat(e,"-").concat(t))})),Object(l.jsx)("button",{type:"button",className:p.a["play-button"],disabled:n,onClick:c,children:Object(l.jsx)("img",{width:64,height:"auto",src:"/images/dice.svg",alt:"play-icon"})})]})},g=Object(c.memo)(_);g.displayName="DicePlate";var v=g,y=n(2),x=function(e,t){return Math.floor(function(e,t){return Math.random()*(t-e)+e}(e,t))},w=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},N=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var c=t.map((function(e){return"string"===typeof e?e:Array.isArray(e)?e.flat():"object"===typeof e?Object.entries(e).map((function(e){var t=Object(y.a)(e,2),n=t[0];return t[1]?n:""})):""}));return c.flat().filter(Boolean).join(" ")},S=n(5),C=n.n(S),k=function(e){var t=e.betValues,n=e.rolledDices,a=e.needToShowResult,s=e.handleBet,r=e.handleResetBet,i=Object(c.useCallback)((function(e){return t[e]>0}),[t]);return Object(l.jsx)("div",{className:C.a.root,children:Object.entries(m).map((function(e){var c,o=Object(y.a)(e,2),u=o[0],b=o[1],d=i(u);return Object(l.jsx)("div",{className:C.a.item,onClick:s(u),children:Object(l.jsxs)("div",{className:N(C.a.content,(c={},Object(j.a)(c,C.a.matched,a&&n.includes(u)),Object(j.a)(c,C.a.betted,d),c)),children:[Object(l.jsx)("img",{width:108,height:"auto",src:b,alt:u}),d&&Object(l.jsxs)(l.Fragment,{children:[!a&&Object(l.jsx)("div",{className:C.a["corner-section"],children:Object(l.jsx)("span",{className:C.a.reset,onClick:r(u),children:"\u2715"})}),Object(l.jsx)("div",{className:C.a["bet-value"],children:Object(l.jsx)("span",{children:t[u]})})]})]})},u)}))})},B=Object(c.memo)(k);B.displayName="DiceGrid";var R=B,P=function(){return new Array(3).fill(void 0).map((function(){return x(0,O.length)})).map((function(e){return O[e]}))},A=function(){return O.reduce((function(e,t){return Object(f.a)(Object(f.a)({},e),{},Object(j.a)({},t,0))}),{})},T=function(){return x(20,100)},I=function(){var e=Object(c.useState)(P),t=Object(y.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(A),r=Object(y.a)(s,2),i=r[0],o=r[1],l=Object(c.useState)(!1),u=Object(y.a)(l,2),b=u[0],d=u[1],m=Object(c.useState)(!1),h=Object(y.a)(m,2),p=h[0],_=h[1],g=Object(c.useState)(),v=Object(y.a)(g,2),x=v[0],w=v[1],N=Object(c.useState)(),S=Object(y.a)(N,2),C=S[0],k=S[1],B=Object(c.useState)(T),R=Object(y.a)(B,2),I=R[0],D=R[1],F=Object(c.useCallback)((function(e){return function(){if(!b){var t=O.filter((function(e){return i[e]>0})),n=t.reduce((function(e,t){return e+i[t]}),0);p&&o(A),n<I?t.length<3||t.includes(e)?(_(!1),o((function(t){return Object(f.a)(Object(f.a)({},t),{},Object(j.a)({},e,t[e]+1))}))):alert("You can bet up to 3 items!"):alert("Please adjust your betted amount!")}}}),[I,i,p,b]),L=Object(c.useCallback)((function(e){return function(t){t.stopPropagation(),b||o((function(t){return Object(f.a)(Object(f.a)({},t),{},Object(j.a)({},e,0))}))}}),[b]),V=Object(c.useCallback)((function(e){return function(){window.clearInterval(e),d(!1),_(!0)}}),[]),E=Object(c.useCallback)((function(e){e.stopPropagation();var t=O.filter((function(e){return i[e]>0})),n=t.reduce((function(e,t){return e+i[t]}),0);if(t.length)if(n<=I){var c=window.setInterval((function(){a(P)}),100);_(!1),d(!0),w(c),k(window.setTimeout(V(c),3e3))}else alert("Please adjust your betted amount!");else alert("Please bet at least one item!")}),[I,i,V]),H=Object(c.useCallback)((function(){D(T),_(!1),o(A)}),[]);return Object(c.useEffect)((function(){return function(){x&&C&&b&&(V(x)(),window.clearTimeout(C))}}),[V,x,C,b]),Object(c.useEffect)((function(){if(!b&&p){var e=O.filter((function(e){return i[e]>0})).reduce((function(e,t){return n.includes(t)?e+n.filter((function(e){return e===t})).length*i[t]:e-i[t]}),0);D((function(t){return t+e}))}}),[b,i,n,p]),{names:n,rolling:b,needToShowResult:p,betState:i,amount:I,handleRoll:E,handleBet:F,handleResetBet:L,startNewSession:H}};n(16);var D=function(){var e=I(),t=e.amount,n=e.betState,c=e.names,a=e.needToShowResult,s=e.rolling,r=e.handleBet,i=e.handleResetBet,o=e.handleRoll,u=e.startNewSession;return Object(l.jsxs)("div",{"data-testid":"App",className:"App",children:[Object(l.jsx)("div",{className:"side-section left-side",children:"Happy new year 2021"}),Object(l.jsx)("div",{className:"side-section right-side",children:"Happy new year 2021"}),Object(l.jsxs)("div",{className:"amount-section",children:[Object(l.jsxs)("span",{children:["$",w(t)]}),Object(l.jsx)(d,{onClick:u})]}),Object(l.jsx)(v,{disabled:s,items:c,onStart:o}),Object(l.jsx)(R,{betValues:n,rolledDices:c,handleBet:r,handleResetBet:i,needToShowResult:a})]})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};r.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(D,{})}),document.getElementById("root")),F()}],[[17,1,2]]]);
//# sourceMappingURL=main.4f756a50.chunk.js.map