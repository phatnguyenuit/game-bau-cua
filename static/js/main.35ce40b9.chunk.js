(this["webpackJsonpgame-bau-cua"]=this["webpackJsonpgame-bau-cua"]||[]).push([[0],{10:function(e,t,n){e.exports={"side-section":"styles_side-section__w8DAV","left-side":"styles_left-side___8tTK","right-side":"styles_right-side__2j5ey","amount-section":"styles_amount-section__1zrEI"}},11:function(e,t,n){e.exports={root:"styles_root__Bag0b",item:"styles_item__29bPs",content:"styles_content__1qV1g","play-button":"styles_play-button__2w0PU"}},18:function(e,t,n){e.exports={root:"styles_root__2RVCt"}},22:function(e,t,n){e.exports={root:"styles_root__UKEs5"}},33:function(e,t,n){},40:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(17),r=n.n(s),i=(n(33),n(43)),o=n(5),l=n(2),u=function(e,t){return Math.floor(function(e,t){return Math.random()*(t-e)+e}(e,t))},b=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},d=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t.map((function(e){return"string"===typeof e?e:Array.isArray(e)?e.flat():"object"===typeof e?Object.entries(e).map((function(e){var t=Object(l.a)(e,2),n=t[0];return t[1]?n:""})):""}));return a.flat().filter(Boolean).join(" ")},j=function(e,t){var n=e.replace(/^\//,"").replace(/\/$/,"");return"".concat(t,"/").concat(n)},f=n(6),m=["deer","calabash","rooster","fish","crab","shrimp"],O=m.reduce((function(e,t){return Object(f.a)(Object(f.a)({},e),{},Object(o.a)({},t,j("/images/".concat(t,".svg"),".")))}),{}),h=n(7),p=n.n(h),_=n(0),g=function(e){var t=e.betValues,n=e.rolledDices,c=e.needToShowResult,s=e.onBet,r=e.onResetBet,i=Object(a.useCallback)((function(e){return t[e]>0}),[t]);return Object(_.jsx)("div",{className:p.a.root,children:Object.entries(O).map((function(e){var a,u=Object(l.a)(e,2),b=u[0],j=u[1],f=i(b);return Object(_.jsx)("div",{className:p.a.item,onClick:s(b),children:Object(_.jsxs)("div",{className:d(p.a.content,(a={},Object(o.a)(a,p.a.matched,c&&n.includes(b)),Object(o.a)(a,p.a.betted,f),a)),children:[Object(_.jsx)("img",{width:108,height:"auto",src:j,alt:b}),f&&Object(_.jsxs)(_.Fragment,{children:[!c&&Object(_.jsx)("div",{className:p.a["corner-section"],children:Object(_.jsx)("span",{className:p.a.reset,onClick:r(b),children:"\u2715"})}),Object(_.jsx)("div",{className:p.a["bet-value"],children:Object(_.jsx)("span",{children:t[b]})})]})]})},b)}))})},y=Object(a.memo)(g);y.displayName="DiceGrid";var v=y,x=n(11),w=n.n(x),N=function(e){var t=e.items,n=e.disabled,a=e.onStart;return Object(_.jsxs)("div",{className:w.a.root,children:[t.map((function(e,t){return Object(_.jsx)("div",{className:w.a.item,children:Object(_.jsx)("div",{className:w.a.content,children:Object(_.jsx)("img",{width:64,height:"auto",src:O[e],alt:"rolled-".concat(e)})})},"".concat(e,"-").concat(t))})),Object(_.jsx)("button",{type:"button",title:"Play",className:w.a["play-button"],disabled:n,onClick:a,children:Object(_.jsx)("img",{width:64,height:"auto",src:j("/images/dice.svg","."),alt:"play-icon"})})]})},S=Object(a.memo)(N);S.displayName="DicePlate";var k=S,C=n(18),B=n.n(C),P=function(e){var t=e.onClick;return Object(_.jsx)("button",{title:"New game",className:B.a.root,onClick:t,children:Object(_.jsx)("img",{width:32,height:"auto",src:j("/images/sync.svg","."),alt:"new-game-icon"})})},R=Object(a.memo)(P);R.displayName="NewGameButton";var V=R,A=function(){return new Array(3).fill(void 0).map((function(){return u(0,m.length)})).map((function(e){return m[e]}))},T=function(){return m.reduce((function(e,t){return Object(f.a)(Object(f.a)({},e),{},Object(o.a)({},t,0))}),{})},L=function(){return u(20,100)},D=n(10),I=n.n(D),E=function(){var e=Object(i.a)().t,t=function(){var e=Object(a.useState)(A),t=Object(l.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(T),r=Object(l.a)(s,2),u=r[0],b=r[1],d=Object(a.useState)(!1),j=Object(l.a)(d,2),O=j[0],h=j[1],p=Object(a.useState)(!1),_=Object(l.a)(p,2),g=_[0],y=_[1],v=Object(a.useState)(),x=Object(l.a)(v,2),w=x[0],N=x[1],S=Object(a.useState)(),k=Object(l.a)(S,2),C=k[0],B=k[1],P=Object(a.useState)(L),R=Object(l.a)(P,2),V=R[0],D=R[1],I=Object(i.a)().t,E=Object(a.useCallback)((function(e){return function(){if(!O){var t=m.filter((function(e){return u[e]>0})),n=t.reduce((function(e,t){return e+u[t]}),0);g&&b(T),n<V?t.length<3||t.includes(e)?(y(!1),b((function(t){return Object(f.a)(Object(f.a)({},t),{},Object(o.a)({},e,t[e]+1))}))):alert(I("max-bet-msg",{defaultValue:"You can bet up to 3 items!"})):alert(I("exceed-bet-amount-msg",{defaultValue:"Please adjust your betted amount!"}))}}}),[V,u,g,O,I]),F=Object(a.useCallback)((function(e){return function(t){t.stopPropagation(),O||b((function(t){return Object(f.a)(Object(f.a)({},t),{},Object(o.a)({},e,0))}))}}),[O]),G=Object(a.useCallback)((function(e){return function(){window.clearInterval(e),h(!1),y(!0)}}),[]),H=Object(a.useCallback)((function(e){e.stopPropagation();var t=m.filter((function(e){return u[e]>0})),n=t.reduce((function(e,t){return e+u[t]}),0);if(t.length)if(n<=V){var a=window.setInterval((function(){c(A)}),100);y(!1),h(!0),N(a),B(window.setTimeout(G(a),3e3))}else alert(I("exceed-bet-amount-msg",{defaultValue:"Please adjust your betted amount!"}));else alert(I("no-bet-msg",{defaultValue:"Please bet at least one item!"}))}),[V,u,I,G]),M=Object(a.useCallback)((function(){D(L),y(!1),b(T)}),[]);return Object(a.useEffect)((function(){return function(){w&&C&&O&&(G(w)(),window.clearTimeout(C))}}),[G,w,C,O]),Object(a.useEffect)((function(){if(!O&&g){var e=m.filter((function(e){return u[e]>0})).reduce((function(e,t){return n.includes(t)?e+n.filter((function(e){return e===t})).length*u[t]:e-u[t]}),0);D((function(t){return t+e}))}}),[O,u,n,g]),{names:n,rolling:O,needToShowResult:g,betState:u,amount:V,handleRoll:H,handleBet:E,handleResetBet:F,startNewSession:M}}(),n=t.amount,c=t.betState,s=t.names,r=t.needToShowResult,u=t.rolling,j=t.handleBet,O=t.handleResetBet,h=t.handleRoll,p=t.startNewSession;return Object(_.jsxs)("div",{children:[Object(_.jsx)("div",{className:d(I.a["side-section"],I.a["left-side"]),children:Object(_.jsx)("span",{children:e("happy-banner",{defaultValue:"Happy new year 2021"})})}),Object(_.jsxs)("div",{className:I.a["amount-section"],children:[Object(_.jsxs)("span",{children:["$",b(n)]}),Object(_.jsx)(V,{onClick:p})]}),Object(_.jsx)(k,{disabled:u,items:s,onStart:h}),Object(_.jsx)(v,{betValues:c,rolledDices:s,needToShowResult:r,onBet:j,onResetBet:O}),Object(_.jsx)("div",{className:d(I.a["side-section"],I.a["right-side"]),children:Object(_.jsx)("span",{children:e("happy-banner",{defaultValue:"Happy new year 2021"})})})]})},F=Object(a.memo)(E);F.displayName="DiceGame";var G=F,H=n(22),M=n.n(H),J=["en","vi"],K=function(){var e=Object(i.a)().i18n,t=Object(a.useCallback)((function(t){return function(){e.changeLanguage(t)}}),[e]);return Object(_.jsx)("div",{className:M.a.root,children:J.map((function(e){return Object(_.jsx)("a",{href:"#",onClick:t(e),children:e},e)}))})},Q=Object(a.memo)(K);Q.displayName="LanguageSwitcher";var U=Q;n(40);var $=function(){return Object(_.jsx)(a.Suspense,{fallback:"Loading translation...",children:Object(_.jsxs)("div",{"data-testid":"App",className:"App",children:[Object(_.jsx)(U,{}),Object(_.jsx)(G,{})]})})},q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,44)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))},z=n(16),Y=n(12),W=n(26),X=n(28);z.a.use(W.a).use(X.a).use(Y.e).init({fallbackLng:"en",debug:!1,interpolation:{escapeValue:!1},backend:{loadPath:"/locales/{{lng}}/{{ns}}.json"}});z.a;r.a.render(Object(_.jsx)(c.a.StrictMode,{children:Object(_.jsx)($,{})}),document.getElementById("root")),q()},7:function(e,t,n){e.exports={root:"styles_root__kr_2d",item:"styles_item__1j-O8",content:"styles_content__3Lgnn",matched:"styles_matched__1ICbi",pulse:"styles_pulse__Hi-_I","corner-section":"styles_corner-section__orbAR",reset:"styles_reset__A3Ld4","bet-value":"styles_bet-value__2pSyQ",betted:"styles_betted__3Bm6Q"}}},[[42,1,2]]]);
//# sourceMappingURL=main.35ce40b9.chunk.js.map