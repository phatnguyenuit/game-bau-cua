(this["webpackJsonpgame-bau-cua"]=this["webpackJsonpgame-bau-cua"]||[]).push([[0],{10:function(e,t,n){e.exports={root:"styles_root__Bag0b",item:"styles_item__29bPs",content:"styles_content__1qV1g","play-button":"styles_play-button__2w0PU"}},18:function(e,t,n){e.exports={root:"styles_root__2RVCt"}},22:function(e,t,n){e.exports={root:"styles_root__UKEs5"}},30:function(e,t,n){},37:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(17),i=n.n(s),r=(n(30),n(40)),o=n(5),l=n(2),u=n(6),d=function(e,t){var n=e.replace(/^\//,"").replace(/\/$/,"");return"".concat(t,"/").concat(n)},b=["deer","calabash","rooster","fish","crab","shrimp"],j=b.reduce((function(e,t){return Object(u.a)(Object(u.a)({},e),{},Object(o.a)({},t,d("/images/".concat(t,".svg"),".")))}),{}),f=function(e,t){return Math.floor(function(e,t){return Math.random()*(t-e)+e}(e,t))},m=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},O=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t.map((function(e){return"string"===typeof e?e:Array.isArray(e)?e.flat():"object"===typeof e?Object.entries(e).map((function(e){var t=Object(l.a)(e,2),n=t[0];return t[1]?n:""})):""}));return a.flat().filter(Boolean).join(" ")},h=function(){return new Array(3).fill(void 0).map((function(){return f(0,b.length)})).map((function(e){return b[e]}))},g=function(){return b.reduce((function(e,t){return Object(u.a)(Object(u.a)({},e),{},Object(o.a)({},t,0))}),{})},p=function(){return f(20,100)},_=n(7),v=n.n(_),y=n(0),x=function(e){var t=e.betValues,n=e.rolledDices,c=e.needToShowResult,s=e.onBet,i=e.onResetBet,r=Object(a.useCallback)((function(e){return t[e]>0}),[t]);return Object(y.jsx)("div",{"data-testid":"dice-grid",className:v.a.root,children:Object.entries(j).map((function(e){var a,u=Object(l.a)(e,2),d=u[0],b=u[1],j=r(d);return Object(y.jsx)("div",{"data-testid":d,className:v.a.item,onClick:s(d),children:Object(y.jsxs)("div",{"data-testid":"".concat(d,"-content"),className:O(v.a.content,(a={},Object(o.a)(a,v.a.matched,c&&n.includes(d)),Object(o.a)(a,v.a.betted,j),a)),children:[Object(y.jsx)("img",{width:108,height:"auto",src:b,alt:d}),j&&Object(y.jsxs)(y.Fragment,{children:[!c&&Object(y.jsx)("div",{className:v.a["corner-section"],children:Object(y.jsx)("span",{"data-testid":"".concat(d,"-reset"),className:v.a.reset,onClick:i(d),children:"\u2715"})}),Object(y.jsx)("div",{"data-testid":"".concat(d,"-bet-value"),className:v.a["bet-value"],children:Object(y.jsx)("span",{children:t[d]})})]})]})},d)}))})},w=Object(a.memo)(x);w.displayName="DiceGrid";var N=w,S=n(10),k=n.n(S),C=function(e){var t=e.items,n=e.disabled,a=e.onStart;return Object(y.jsxs)("div",{"data-testid":"dice-plate",className:k.a.root,children:[t.map((function(e,t){return Object(y.jsx)("div",{"data-testid":"item",className:k.a.item,children:Object(y.jsx)("div",{className:k.a.content,children:Object(y.jsx)("img",{width:64,height:"auto",src:j[e],alt:"rolled-".concat(e)})})},"".concat(e,"-").concat(t))})),Object(y.jsx)("button",{"data-testid":"play-button",title:"Play",type:"button",className:k.a["play-button"],disabled:n,onClick:a,children:Object(y.jsx)("img",{width:64,height:"auto",src:d("/images/dice.svg","."),alt:"play-icon"})})]})},B=Object(a.memo)(C);B.displayName="DicePlate";var R=B,I=n(18),P=n.n(I),V=function(e){var t=e.onClick;return Object(y.jsx)("button",{"data-testid":"new-game-button",title:"New game",className:P.a.root,onClick:t,children:Object(y.jsx)("img",{width:32,height:"auto",src:d("/images/sync.svg","."),alt:"new-game-icon"})})},T=Object(a.memo)(V);T.displayName="NewGameButton";var D=T,A=n(9),L=n.n(A),E=function(){var e=Object(r.a)().t,t=function(){var e=Object(a.useState)(h),t=Object(l.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(g),i=Object(l.a)(s,2),d=i[0],j=i[1],f=Object(a.useState)(!1),m=Object(l.a)(f,2),O=m[0],_=m[1],v=Object(a.useState)(!1),y=Object(l.a)(v,2),x=y[0],w=y[1],N=Object(a.useState)(),S=Object(l.a)(N,2),k=S[0],C=S[1],B=Object(a.useState)(),R=Object(l.a)(B,2),I=R[0],P=R[1],V=Object(a.useState)(p),T=Object(l.a)(V,2),D=T[0],A=T[1],L=Object(r.a)().t,E=Object(a.useCallback)((function(e){return function(){if(!O){var t=b.filter((function(e){return d[e]>0})),n=t.reduce((function(e,t){return e+d[t]}),0);x&&j(g),n<D?t.length<3||t.includes(e)?(w(!1),j((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(o.a)({},e,t[e]+1))}))):alert(L("max-bet-msg",{defaultValue:"You can bet up to 3 items!"})):alert(L("exceed-bet-amount-msg",{defaultValue:"Please adjust your betted amount!"}))}}}),[D,d,x,O,L]),F=Object(a.useCallback)((function(e){return function(e){e.stopPropagation(),O||j(g)}}),[O]),G=Object(a.useCallback)((function(e){return function(){window.clearInterval(e),_(!1),w(!0)}}),[]),H=Object(a.useCallback)((function(){c(h)}),[]),M=Object(a.useCallback)((function(e){e.stopPropagation();var t=b.filter((function(e){return d[e]>0})),n=t.reduce((function(e,t){return e+d[t]}),0);if(t.length)if(n<=D){var a=window.setInterval(H,100);w(!1),_(!0),C(a),P(window.setTimeout(G(a),100))}else alert(L("exceed-bet-amount-msg",{defaultValue:"Please adjust your betted amount!"}));else alert(L("no-bet-msg",{defaultValue:"Please bet at least one item!"}))}),[d,D,H,G,L]),J=Object(a.useCallback)((function(){A(p),w(!1),j(g)}),[]);return Object(a.useEffect)((function(){return function(){k&&I&&O&&(G(k)(),window.clearTimeout(I))}}),[G,k,I,O]),Object(a.useEffect)((function(){if(!O&&x){var e=b.filter((function(e){return d[e]>0})).reduce((function(e,t){return n&&n.includes(t)?e+n.filter((function(e){return e===t})).length*d[t]:e-d[t]}),0);A((function(t){return t+e}))}}),[O,d,n,x]),{rolledDices:n,rolling:O,needToShowResult:x,betState:d,amount:D,intervalId:k,timeoutId:I,handleBet:E,handleResetBet:F,handleRoll:M,handleRollingInterval:H,makeCleanInterval:G,startNewSession:J,setRolledDices:c,setRolling:_,setIntervalId:C,setTimeoutId:P,setBetState:j,setNeedToShowResult:w}}(),n=t.amount,c=t.betState,s=t.rolledDices,i=t.needToShowResult,d=t.rolling,j=t.handleBet,f=t.handleResetBet,_=t.handleRoll,v=t.startNewSession;return Object(y.jsxs)("div",{"data-testid":"dice-game",children:[Object(y.jsx)("div",{className:O(L.a["side-section"],L.a["left-side"]),children:Object(y.jsx)("span",{children:e("happy-banner",{defaultValue:"Happy new year 2021"})})}),Object(y.jsxs)("div",{className:L.a["amount-section"],children:[Object(y.jsxs)("span",{children:["$",m(n)]}),Object(y.jsx)(D,{onClick:v})]}),Object(y.jsx)(R,{disabled:d,items:s,onStart:_}),Object(y.jsx)(N,{betValues:c,rolledDices:s,needToShowResult:i,onBet:j,onResetBet:f}),Object(y.jsx)("div",{className:O(L.a["side-section"],L.a["right-side"]),children:Object(y.jsx)("span",{children:e("happy-banner",{defaultValue:"Happy new year 2021"})})})]})},F=Object(a.memo)(E);F.displayName="DiceGame";var G=F,H=n(22),M=n.n(H),J=["en","vi"],K=function(){var e=Object(r.a)().i18n,t=Object(a.useCallback)((function(t){return function(){e.changeLanguage(t)}}),[e]);return Object(y.jsx)("div",{"data-testid":"language-switcher",className:M.a.root,children:J.map((function(e){return Object(y.jsx)("a",{"data-testid":"".concat(e,"-link"),href:"#",onClick:t(e),children:e},e)}))})},Q=Object(a.memo)(K);Q.displayName="LanguageSwitcher";var U=Q;n(37);var $=function(){return Object(y.jsx)(a.Suspense,{fallback:"Loading translation...",children:Object(y.jsxs)("div",{"data-testid":"App",className:"App",children:[Object(y.jsx)(U,{}),Object(y.jsx)(G,{})]})})},q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,41)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),s(e),i(e)}))},z=n(16),Y=n(11),W=n(23),X=n(25);z.a.use(W.a).use(X.a).use(Y.e).init({fallbackLng:"en",debug:!1,interpolation:{escapeValue:!1},backend:{loadPath:"/locales/{{lng}}/{{ns}}.json"}});z.a;i.a.render(Object(y.jsx)(c.a.StrictMode,{children:Object(y.jsx)($,{})}),document.getElementById("root")),q()},7:function(e,t,n){e.exports={root:"styles_root__kr_2d",item:"styles_item__1j-O8",content:"styles_content__3Lgnn",matched:"styles_matched__1ICbi",pulse:"styles_pulse__Hi-_I","corner-section":"styles_corner-section__orbAR",reset:"styles_reset__A3Ld4","bet-value":"styles_bet-value__2pSyQ",betted:"styles_betted__3Bm6Q"}},9:function(e,t,n){e.exports={"side-section":"styles_side-section__w8DAV","left-side":"styles_left-side___8tTK","right-side":"styles_right-side__2j5ey","amount-section":"styles_amount-section__1zrEI"}}},[[39,1,2]]]);
//# sourceMappingURL=main.0871bfe1.chunk.js.map