(this["webpackJsonpgame-bau-cua"]=this["webpackJsonpgame-bau-cua"]||[]).push([[0],{10:function(e,t,n){e.exports={"side-section":"styles_side-section__w8DAV","left-side":"styles_left-side___8tTK","right-side":"styles_right-side__2j5ey","amount-section":"styles_amount-section__1zrEI"}},11:function(e,t,n){e.exports={root:"styles_root__Bag0b",item:"styles_item__29bPs",content:"styles_content__1qV1g","play-button":"styles_play-button__2w0PU"}},18:function(e,t,n){e.exports={root:"styles_root__2RVCt"}},22:function(e,t,n){e.exports={root:"styles_root__UKEs5"}},33:function(e,t,n){},40:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(17),r=n.n(s),i=(n(33),n(43)),o=n(5),l=n(2),u=function(e,t){return Math.floor(function(e,t){return Math.random()*(t-e)+e}(e,t))},b=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},d=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t.map((function(e){return"string"===typeof e?e:Array.isArray(e)?e.flat():"object"===typeof e?Object.entries(e).map((function(e){var t=Object(l.a)(e,2),n=t[0];return t[1]?n:""})):""}));return a.flat().filter(Boolean).join(" ")},j=n(6),f=["deer","calabash","rooster","fish","crab","shrimp"],m=f.reduce((function(e,t){return Object(j.a)(Object(j.a)({},e),{},Object(o.a)({},t,"".concat(".","/images/").concat(t,".svg")))}),{}),O=n(7),h=n.n(O),_=n(0),p=function(e){var t=e.betValues,n=e.rolledDices,c=e.needToShowResult,s=e.onBet,r=e.onResetBet,i=Object(a.useCallback)((function(e){return t[e]>0}),[t]);return Object(_.jsx)("div",{className:h.a.root,children:Object.entries(m).map((function(e){var a,u=Object(l.a)(e,2),b=u[0],j=u[1],f=i(b);return Object(_.jsx)("div",{className:h.a.item,onClick:s(b),children:Object(_.jsxs)("div",{className:d(h.a.content,(a={},Object(o.a)(a,h.a.matched,c&&n.includes(b)),Object(o.a)(a,h.a.betted,f),a)),children:[Object(_.jsx)("img",{width:108,height:"auto",src:j,alt:b}),f&&Object(_.jsxs)(_.Fragment,{children:[!c&&Object(_.jsx)("div",{className:h.a["corner-section"],children:Object(_.jsx)("span",{className:h.a.reset,onClick:r(b),children:"\u2715"})}),Object(_.jsx)("div",{className:h.a["bet-value"],children:Object(_.jsx)("span",{children:t[b]})})]})]})},b)}))})},g=Object(a.memo)(p);g.displayName="DiceGrid";var y=g,v=n(11),x=n.n(v),w=function(e){var t=e.items,n=e.disabled,a=e.onStart;return Object(_.jsxs)("div",{className:x.a.root,children:[t.map((function(e,t){return Object(_.jsx)("div",{className:x.a.item,children:Object(_.jsx)("div",{className:x.a.content,children:Object(_.jsx)("img",{width:64,height:"auto",src:m[e],alt:"rolled-".concat(e)})})},"".concat(e,"-").concat(t))})),Object(_.jsx)("button",{type:"button",title:"Play",className:x.a["play-button"],disabled:n,onClick:a,children:Object(_.jsx)("img",{width:64,height:"auto",src:"/images/dice.svg",alt:"play-icon"})})]})},N=Object(a.memo)(w);N.displayName="DicePlate";var S=N,k=n(18),C=n.n(k),B=function(e){var t=e.onClick;return Object(_.jsx)("button",{title:"New game",className:C.a.root,onClick:t,children:Object(_.jsx)("img",{width:32,height:"auto",src:"/images/sync.svg",alt:"new-game-icon"})})},P=Object(a.memo)(B);P.displayName="NewGameButton";var R=P,V=function(){return new Array(3).fill(void 0).map((function(){return u(0,f.length)})).map((function(e){return f[e]}))},A=function(){return f.reduce((function(e,t){return Object(j.a)(Object(j.a)({},e),{},Object(o.a)({},t,0))}),{})},T=function(){return u(20,100)},L=n(10),D=n.n(L),I=function(){var e=Object(i.a)().t,t=function(){var e=Object(a.useState)(V),t=Object(l.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(A),r=Object(l.a)(s,2),u=r[0],b=r[1],d=Object(a.useState)(!1),m=Object(l.a)(d,2),O=m[0],h=m[1],_=Object(a.useState)(!1),p=Object(l.a)(_,2),g=p[0],y=p[1],v=Object(a.useState)(),x=Object(l.a)(v,2),w=x[0],N=x[1],S=Object(a.useState)(),k=Object(l.a)(S,2),C=k[0],B=k[1],P=Object(a.useState)(T),R=Object(l.a)(P,2),L=R[0],D=R[1],I=Object(i.a)().t,E=Object(a.useCallback)((function(e){return function(){if(!O){var t=f.filter((function(e){return u[e]>0})),n=t.reduce((function(e,t){return e+u[t]}),0);g&&b(A),n<L?t.length<3||t.includes(e)?(y(!1),b((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(o.a)({},e,t[e]+1))}))):alert(I("max-bet-msg",{defaultValue:"You can bet up to 3 items!"})):alert(I("exceed-bet-amount-msg",{defaultValue:"Please adjust your betted amount!"}))}}}),[L,u,g,O,I]),F=Object(a.useCallback)((function(e){return function(t){t.stopPropagation(),O||b((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(o.a)({},e,0))}))}}),[O]),G=Object(a.useCallback)((function(e){return function(){window.clearInterval(e),h(!1),y(!0)}}),[]),H=Object(a.useCallback)((function(e){e.stopPropagation();var t=f.filter((function(e){return u[e]>0})),n=t.reduce((function(e,t){return e+u[t]}),0);if(t.length)if(n<=L){var a=window.setInterval((function(){c(V)}),100);y(!1),h(!0),N(a),B(window.setTimeout(G(a),3e3))}else alert(I("exceed-bet-amount-msg",{defaultValue:"Please adjust your betted amount!"}));else alert(I("no-bet-msg",{defaultValue:"Please bet at least one item!"}))}),[L,u,I,G]),M=Object(a.useCallback)((function(){D(T),y(!1),b(A)}),[]);return Object(a.useEffect)((function(){return function(){w&&C&&O&&(G(w)(),window.clearTimeout(C))}}),[G,w,C,O]),Object(a.useEffect)((function(){if(!O&&g){var e=f.filter((function(e){return u[e]>0})).reduce((function(e,t){return n.includes(t)?e+n.filter((function(e){return e===t})).length*u[t]:e-u[t]}),0);D((function(t){return t+e}))}}),[O,u,n,g]),{names:n,rolling:O,needToShowResult:g,betState:u,amount:L,handleRoll:H,handleBet:E,handleResetBet:F,startNewSession:M}}(),n=t.amount,c=t.betState,s=t.names,r=t.needToShowResult,u=t.rolling,m=t.handleBet,O=t.handleResetBet,h=t.handleRoll,p=t.startNewSession;return Object(_.jsxs)("div",{children:[Object(_.jsx)("div",{className:d(D.a["side-section"],D.a["left-side"]),children:Object(_.jsx)("span",{children:e("happy-banner",{defaultValue:"Happy new year 2021"})})}),Object(_.jsxs)("div",{className:D.a["amount-section"],children:[Object(_.jsxs)("span",{children:["$",b(n)]}),Object(_.jsx)(R,{onClick:p})]}),Object(_.jsx)(S,{disabled:u,items:s,onStart:h}),Object(_.jsx)(y,{betValues:c,rolledDices:s,needToShowResult:r,onBet:m,onResetBet:O}),Object(_.jsx)("div",{className:d(D.a["side-section"],D.a["right-side"]),children:Object(_.jsx)("span",{children:e("happy-banner",{defaultValue:"Happy new year 2021"})})})]})},E=Object(a.memo)(I);E.displayName="DiceGame";var F=E,G=n(22),H=n.n(G),M=["en","vi"],J=function(){var e=Object(i.a)().i18n,t=Object(a.useCallback)((function(t){return function(){e.changeLanguage(t)}}),[e]);return Object(_.jsx)("div",{className:H.a.root,children:M.map((function(e){return Object(_.jsx)("a",{href:"#",onClick:t(e),children:e},e)}))})},K=Object(a.memo)(J);K.displayName="LanguageSwitcher";var Q=K;n(40);var U=function(){return Object(_.jsx)(a.Suspense,{fallback:"Loading translation...",children:Object(_.jsxs)("div",{"data-testid":"App",className:"App",children:[Object(_.jsx)(Q,{}),Object(_.jsx)(F,{})]})})},q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,44)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))},z=n(16),Y=n(12),$=n(26),W=n(28);z.a.use($.a).use(W.a).use(Y.e).init({fallbackLng:"en",debug:!1,interpolation:{escapeValue:!1},backend:{loadPath:"/locales/{{lng}}/{{ns}}.json"}});z.a;r.a.render(Object(_.jsx)(c.a.StrictMode,{children:Object(_.jsx)(U,{})}),document.getElementById("root")),q()},7:function(e,t,n){e.exports={root:"styles_root__kr_2d",item:"styles_item__1j-O8",content:"styles_content__3Lgnn",matched:"styles_matched__1ICbi",pulse:"styles_pulse__Hi-_I","corner-section":"styles_corner-section__orbAR",reset:"styles_reset__A3Ld4","bet-value":"styles_bet-value__2pSyQ",betted:"styles_betted__3Bm6Q"}}},[[42,1,2]]]);
//# sourceMappingURL=main.c90c811b.chunk.js.map